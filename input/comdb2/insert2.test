CREATE TABLE d1(n int, log int);
SELECT * FROM d1 ORDER BY n;
    CREATE TABLE t1(log int, cnt int);
    INSERT INTO t1 SELECT log, count(*) FROM d1 GROUP BY log;
SELECT * FROM t1 ORDER BY log;
DROP TABLE t1;
    CREATE TABLE t1(log int, cnt int);
    SELECT * FROM t1 ORDER BY log;
DROP TABLE t1;
    CREATE TABLE t1(log int, cnt int);
    SELECT * FROM t1 ORDER BY log;
DROP TABLE t1;
    CREATE TABLE t1(log int, cnt int);
    CREATE INDEX i1 ON t1(log);
    CREATE INDEX i2 ON t1(cnt);
    INSERT INTO t1 SELECT log, count() FROM d1 GROUP BY log;
    SELECT * FROM t1 ORDER BY log;
SELECT cnt FROM t1 WHERE log=3;
SELECT log FROM t1 WHERE cnt=4 ORDER BY log;
    BEGIN;
    INSERT INTO t4 VALUES(2,4);
    INSERT INTO t4 VALUES(3,6);
    INSERT INTO t4 VALUES(4,8);
    INSERT INTO t4 VALUES(5,10);
    INSERT INTO t4 VALUES(6,12);
    INSERT INTO t4 VALUES(7,14);
    INSERT INTO t4 VALUES(8,16);
    INSERT INTO t4 VALUES(9,18);
    INSERT INTO t4 VALUES(10,20);
      BEGIN;
      INSERT INTO t4 SELECT x+(SELECT max(x) FROM t4),y FROM t4;
      INSERT INTO t4 SELECT x+(SELECT max(x) FROM t4),y FROM t4;
      INSERT INTO t4 SELECT x+(SELECT max(x) FROM t4),y FROM t4;
      INSERT INTO t4 SELECT x+(SELECT max(x) FROM t4),y FROM t4;
      BEGIN;
      INSERT INTO t4 SELECT x+max_x_t4() ,y FROM t4;
      INSERT INTO t4 SELECT x+max_x_t4() ,y FROM t4;
      INSERT INTO t4 SELECT x+max_x_t4() ,y FROM t4;
      INSERT INTO t4 SELECT x+max_x_t4() ,y FROM t4;
    BEGIN;
    UPDATE t4 SET y='lots of data for the row where x=' || x                     || ' and y=' || y || ' - even more data to fill space';
      BEGIN;
      INSERT INTO t4 SELECT x+(SELECT max(x)+1 FROM t4),y FROM t4;
      ROLLBACK;
      BEGIN;
      INSERT INTO t4 SELECT x+max_x_t4()+1,y FROM t4;
      ROLLBACK;
    BEGIN;
    DELETE FROM t4 WHERE x!=123;
    ROLLBACK;
